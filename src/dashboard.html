<div id="dashboard" class="routePage" ng-controller="dashCtr">
    <!--<div class="header cyan">
        <h2 class="white-text">
            Create new order <br><small>choose Items below.</small>
        </h2>
        <button disabled class="btn-floating btn-large waves-effect waves-light red"><i class="material-icons">add</i></button>
    </div>
    <div class="body">
-->
    <ul id="OrderCollapse" class="collapsible">
        <li>
            <div class="collapsible-header">
                <div class="header cyan deep-orange darken-2">
                    <h2 class="white-text">
                        Create new order <br><small>click to create.</small>
                    </h2>
                </div>
            </div>
            <div class="collapsible-body">
                <div class="row">
                    <form class="col s12">
                        <div class="row">
                            <div class="input-field col s4">
                                <i class="material-icons prefix">person</i>
                                <input ng-model="orderName" id="orderName" type="text" class="validate">
                                <label for="orderName">Name</label>
                            </div>
                            <div class="input-field col s4">
                                <i class="material-icons prefix">date_range</i>
                                <input id="orderDate" type="text" class="datepicker">
                                <label class="active" for="orderDate">Order Date</label>
                            </div>
                            <div class="input-field col s4">
                                <i class="material-icons prefix">airline_seat_legroom_extra</i>
                                <select ng-model="orderTableNumber" class="browser-default prefixed">
                                    <option ng-repeat="n in [].constructor(products.tableNumber) track by $index" value="{{$index+1}}">Table {{$index+1}}</option>
                                </select>
                                <label class="active" for="orderDate">Select Table</label>
                            </div>
                        </div>
                        <small>Select Items</small>
                        <hr>
                        <div class="row">
                            <div class="col s12">
                                <div class="col s3 selected-items">
                                    <button data-target="viewSelectedORders" ng-disabled="currentOrder.items.length == 0" class="btn waves-effect waves-default orange modal-trigger">Selected items({{currentOrder.items.length}})</button>
                                </div>
                                <div class="col s5">
                                    <div class="orderPriceDetails">
                                        <strong>Total Qty: <span>{{currentOrder.totalQuantity}}</span></strong>,
                                        <strong>Total Price: <span>{{currentOrder.totalPrice | currency : "XAF ":2}}</span></strong>
                                    </div>
                                </div>
                                <div class="searchBox input-field col s4">
                                    <i class="material-icons">search</i>
                                    <input onkeyup="searchOrderItems(event)" placeholder="Search.." class="browser-default" id="search" type="search" results=5 autosave=some_unique_value>
                                </div>
                            </div>
                            <div id="orderItems" class="col s12 scrollContainer">
                                <div id="no-resultsOrder" class="no-results"><p>No results</p></div>
                                <div ng-repeat="x in products.items" class="item z-depth-2">
                                    <div class="header deep-orange darken-2">
                                        <dl>
                                            <dt class="item-name">{{x.name}}</dt>
                                            <dd class="item-category">{{x.category}}</dd>
                                            <dd class="item-status">{{x.status}}</dd>
                                            <dd class="item-price">{{x.rate | currency : "XAF ":0}}</dd>
                                        </dl>
                                    </div>
                                    <div class="body">
                                        <div class="inputDiv">
                                            <button ng-disabled="x.added || !x.action" class="browser-default btns" ng-click="addOrderNumber($event,-1)"><i class="material-icons">remove</i></button>
                                            <input ng-disabled="x.added || !x.action" min="1" value="1" class="browser-default" type="number">
                                            <button ng-disabled="x.added || !x.action" class="btns" ng-click="addOrderNumber($event,1)"><i class="material-icons">add</i></button>
                                        </div>
                                        <button ng-hide="x.added" data-clicked="false" ng-click="addItem($event,$index)" ng-disabled="!x.action" class="footer-btn btn waves-effect waves-light teal"><i class="material-icons left">add</i>Add</button>
                                        <button ng-show="x.added" data-clicked="true" ng-click="addItem($event,$index)" ng-disabled="!x.action" class=" btn waves-effect waves-light grey darken-1"><i class="material-icons left">remove</i>
                                            remove
                                      </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col s12 footer">
                            <div class="col s5 offset-s7">
                                <button ng-show="orderPrint" class="btn waves-effect waves-light brown darken-4"><i class="material-icons left">print</i>Print</button>
                                <button ng-click="createOrder()" ng-disabled="!orderName || currentOrder.items.length == 0" class="btn waves-effect waves-light green darken-1 right"><i class="material-icons left">done</i>Complete</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </li>
    </ul>
    <!--End of main page-->
    <!--Modals-->
    <div id="viewSelectedORders" class="modal modal-fixed-footer">
        <div class="modal-content">
            <div class="box">
                <div class="header orange darken-2">
                    <h2 class="white-text">
                        Selected Items ({{currentOrder.items.length}})
                    </h2>
                </div>
                <div class="body">
                    <!--
                <table class="striped highlight centered">
                    <thead>
                        <th>#</th>
                        <th>Name</th>
                        <th>Quantity</th>
                        <th>Category</th>
                        <th>Price</th>
                        <th><i class="material-icons">build</i></th>
                    </thead>
                </table>
                -->
                    <div class="table-view">
                        <table class="centered">
                            <thead>
                                <th>#</th>
                                <th>Name</th>
                                <th>Quantity</th>
                                <th>Category</th>
                                <th>Price</th>
                            </thead>
                            <tbody>
                                <tr ng-repeat="x in currentOrder.items">
                                    <td>{{$index+1}}</td>
                                    <td>{{x.name}}</td>
                                    <td>{{x.quantity}}</td>
                                    <td>{{x.category}}</td>
                                    <td>{{x.price}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <table class="centered">
                        <tfoot>
                            <th>Total:</th>
                            <th></th>
                            <th>Qty: {{currentOrder.totalQuantity}}</th>
                            <th></th>
                            <th>Price: {{currentOrder.totalPrice | currency : "XAF ":0}}</th>
                        </tfoot>
                    </table>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <a ng-click="removeItem('deleteAll')" class="left waves-effect waves-red btn-flat white-text red">clear all</a>
            <a class="modal-close waves-effect waves-orange btn-flat">close</a>
        </div>
    </div>
</div>
